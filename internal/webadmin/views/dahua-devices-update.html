{{ template "base.html" . }}

{{ define "body" }}
  {{ template "dahua-base.html" . }}
{{ end }}

{{ define "header-navbar-start" }}
  {{ template "dahua-base-drawer-button" . }}
{{ end }}

{{ define "dahua-base-body" }}
  {{ template "header.html" . }}


  <main class="min-h-screen">
    <div class="breadcrumbs px-4 text-sm">
      <ul>
        <li><a href="/admin/dahua/devices">Devices</a></li>
        <li>
          <a href="/admin/dahua/devices/{{ .Data.Device.ID }}"
            >{{ .Data.Device.ID }}</a
          >
        </li>
        <li>Update</li>
      </ul>
    </div>

    <form
      method="post"
      class="mx-auto flex w-full max-w-md flex-col gap-4 px-4"
    >
      <div class="card-title">Update Device</div>
      <div class="form-control w-full">
        <label for="name" class="label">
          <span class="label-text">Name</span>
        </label>
        <input
          id="name"
          name="name"
          type="text"
          placeholder="Name"
          class="input input-bordered w-full"
          value="{{ .Data.Device.Name }}"
        />
      </div>
      <div class="form-control w-full">
        <label for="url" class="label">
          <span class="label-text">URL</span>
        </label>
        <input
          id="url"
          name="Url"
          type="text"
          placeholder="URL"
          class="input input-bordered w-full"
          value="{{ .Data.Device.Url }}"
        />
      </div>
      <div class="form-control w-full">
        <label for="username" class="label">
          <span class="label-text">Username</span>
        </label>
        <input
          id="username"
          name="username"
          type="text"
          placeholder="admin"
          class="input input-bordered w-full"
          value="{{ .Data.Device.Username }}"
        />
      </div>
      <div class="form-control w-full">
        <label for="password" class="label">
          <span class="label-text">Password</span>
        </label>
        <input
          id="password"
          name="password"
          type="password"
          placeholder="Password"
          class="input input-bordered w-full"
        />
      </div>
      <div class="form-control w-full">
        <label class="label">
          <span class="label-text">Location</span>
        </label>
        <select id="location" name="location" class="select select-bordered">
          {{ range .Data.Locations }}
            <option
              {{ if eq . $.Data.Device.Location.String }}selected{{ end }}
            >
              {{ . }}
            </option>
          {{ end }}
        </select>
      </div>
      <div class="form-control w-full">
        <label class="label">
          <span class="label-text">Features</span>
        </label>
        <select
          id="features"
          name="features"
          class="select select-bordered"
          multiple
        >
          <option>None</option>
          {{ range .Data.Features }}
            <option
              value="{{ .Key }}"
              {{ if (.EQ $.Data.Device.Feature) }}selected{{ end }}
            >
              {{ .Name }}
            </option>
          {{ end }}
        </select>
      </div>
      <button type="submit" class="btn btn-primary">Submit</button>
    </form>
  </main>

  {{ template "footer.html" . }}
{{ end }}
